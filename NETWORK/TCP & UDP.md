## TCP와 UDP에 대해 설명해주세요.

TCP와 UDP는 **OSI 7계층 모델** 또는 **TCP/IP 모델**의 전송 계층에서 데이터를 송수신하는 프로토콜 입니다.
네트워크 계층(IP) 위에서 동작하며 종단 간 데이터 전송방식을 정의합니다.

### TCP

TCP(Transmission Control Protocol)은 연결 지향형 프로토콜입니다.
연결 지향이라는 의미는 3-Way Handshake를 통해 클라이언트와 서버가 연결을 설정합니다.
1. 클라이언트가 서버에게 연결 요청을 위해 `SYN`패킷을 보냅니다
2. 서버는 클라이언트의 요청을 받고 연결 준비가 되었음을 알리는 `SYN`패킷과 요청을 잘 받았다는 의미로 `ACK`패킷을 함께 보냅니다.
3. 클라이언트는 서버의 응답을 받고 서버의 연결 준비 요청을 잘 받았다는 의미로 `ACK`패킷을 보냅니다.

이 과정을 통해 연결을 완료하고 데이터를 송수신합니다.
TCP는 ACK 패킷으로 패킷의 순서를 보장하고 손실된 패킷은 재전송합니다. 이를 통해 수신 측이 처리할 수 있는 데이터 양을 조절하는 **흐름 제어**를 합니다.
또한, 네트워크 혼잡 상황을 감지해 데이터 전송률을 조절하는 **혼잡 제어**를 합니다.
순차적으로 도착해야하기에 앞 패킷이 네트워크 상태나 모종의 이유로 지연되면 Blocking이 발생하는 **Head-of-Line Blocking** 문제가 발생합니다.
이메일 송신, 파일 전송, HTTP 등고 같이 패킷이 순차적으로 도착하는것이 중요한 데이터, 잘못된 패킷이 없는 데이터를 송수신할 때 주로 사용합니다.

데이터 송수신이 끝나면 4-Way Handshake를 통해 연결을 해제합니다.
1. 클라이언트가 연결 종료를 위해 `FIN`패킷을 보냅니다.
2. 서버는 클라이언트의 패킷을 받았다는 의미로 `ACK`를 보냅니다.
3. 서버도 데이터를 모두 보낸 후 연결 종료 준비가 끝나면 클라이언트에 `FIN`패킷을 보냅니다.
4. 클라이언트는 서버의 패킷을 받고 `ACK`를 보내고 일정 시간(TIME_WAIT)대기 후 연결을 종료합니다.

HTTPS에서는 3-Way Handshake 연결 이후 SSL Handshake를 진행합니다.
이는 TCP 연결 위에서 암호화 통신 채널을 설정하는 과정입니다.
**클라이언트와 서버가 서로를 인증하고 사용할 암호화 알고리즘을 협상**합니다. 이후 실제 데이터 암호화에 사용할 **세션 키를 교환**합니다.
Handshake가 완료되면 TCP 연결 위에서 암호화된 HTTP 메세지가 전송됩니다.

### UDP

UDP(User Datagram Protocol)는 비연결 지향형 프로토콜입니다.
Handshake 같은 **연결 설정 과정이 없어** 데이터 송수신을 빠르게 시작할 수 있습니다.
또한, **데이터 도착 순서를 보장하지 않고 손실된 패킷 재전송을 하지 않습**니다. 
연결 설정 및 신뢰성 보장을 위한 과정이 없으므로 TCP보다 빠르고 프로토콜 자체 오버헤드도 적습니다.
순서를 보장 하지 않으니 앞서 보낸 패킷의 지연으로 인한 Blocking 문제가 없습니다.
실시간 방송, 실시간 Video 스트리밍, 온라인 게임, HTTP3(QUIC) 등과 같은 약간의 데이터 손실이 있더라도 속도가 더 중요한 서비스에 사용됩니다.
